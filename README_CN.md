# GuardHouse

[中文版](README_CN.md) | [English](README.md)

## 1. 项目概述

Guardhouse项目旨在为云服务器提供高效的集中管理解决方案，功能包括主机状态监控、任务分发、系统配置更新、异常防御等。项目采用Golang开发，结合anti-zero防御机制，确保系统的安全性与高可用性。Noah进程是一个运行在 linux 系统的deamon agent 进程，采用类似Nginx的Master/Worker设计模式，以Master主进程控制Worker进程，实现任务并发执行和动态管理。

- **项目名称**: GuardHouse
- **核心功能**:
  - 主机状态监控
  - 任务分发管理
  - 系统配置更新
  - 异常防御机制
  
- **技术特点**:
  - 基于 Golang 开发
  - 集成 anti-zero 防御机制
  - Noah Agent 采用 Master/Worker 架构(类似 Nginx 风格)

## 2. 系统架构

系统采用分层架构设计，主要包含以下核心组件：

### 2.1 核心组件

- **Master 服务**
  - 中央管理单元
  - 负责心跳监控、任务调度和问题诊断
  
- **Noah Agent**
  - 采用 Master/Worker 架构
  - 部署于各个云主机节点
  - 负责本地任务执行和监控

- **Worker 插件系统**
  - 可插拔式设计
  - 支持自动巡检、系统管理等功能
  - 提供灵活的配置选项

### 2.2 监控体系

- 集成 Prometheus 监控
- Grafana 数据可视化
- 实时数据采集和分析

## 3. 核心功能

### 3.1 Master 服务

- **管理接口**: 403 端口，提供本地管理功能
- **心跳检测**: 300s 随机间隔，降低系统压力
- **Worker 管理**: 自动故障检测和恢复
- **安全防护**: anti-zero 防御，异常检测

### 3.2 Noah Agent

- **主进程管理**: 任务调度、插件管理
- **Worker 进程**: 执行具体任务
- **插件类型**:
  - 自动巡检插件
  - 系统配置管理插件
  - 定时任务插件

## 4. 技术特性

### 4.1 高性能设计

- Golang 协程并发模型
- 随机化心跳机制
- 分布式任务处理

### 4.2 安全机制

- TLS 加密通信
- 证书认证
- anti-zero 防御
- 端口访问控制

### 4.3 可扩展性

- 插件化架构
- 动态加载机制
- 集群化部署支持

## 5. 部署与维护

### 5.1 部署方案

- Noah 作为系统服务
- 负载均衡配置

### 5.2 监控指标

- 心跳频率统计
- 任务执行状态
- 系统资源使用率

## 6. 开发指南

### 6.1 插件开发

- 标准接口规范
- 开发模板
- 测试用例

### 6.2 系统扩展

- 自定义监控指标
- 告警规则配置
- 任务编排

[English Documentation](README.md)
